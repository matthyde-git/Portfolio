# Setup Guide

## Important

For security reasons the auth0 domain and client IDs have been removed from the src/main.jsx file. The application will not work without valid domain and client ID values, these can be generated by creating an application and database for a single webpage REACT application at: https://auth0.com/

## Prerequisites

1. The system requires the JavaScript runtime environment Node.js and the relational database management system PostgreSQL, please make sure you have both installed on your machine before continuing.
2. Create a database on your PostgreSQL server titled "project"
3. The Auth0 user authentication requires 3rd party cookies, please ensure they are enabled on your browser before attempting to access the site

## Step 1: Back-end setup

In a terminal window:
1. Navigate to the project-management-backend directory
2. Enter the command: npm install

The database will be set up with Knex.js migrations. For these to work, the back-end needs to be temporarily converted to CommonJS. To do this:
1. Open the project-management-backend/package.json file
2. Delete line 6
3. Save the file
4. Open the project-management-backend/db/knexfile.js file
5. Comment out lines 3-5 and 11-46
6. Uncomment lines 48-91
7. Save the file

Next you will need to add your PostgreSQL database information. To do this:
1. Open the project-management-backend/db/knexfile.js file
2. Enter your PostgreSQL username and password in lines 54 and 55 respectively
3. Save the file

Now in a terminal window:
1. Navigate to the project-management-backend/db directory
2. Enter the following command: npx knex migrate:latest --knexfile knexfile.js --migrations-directory migrations

The back-end must now be converted back to a module. To do this:
1. Open the project-management-backend/package.json file
2. Underneath line 5, add: "type": "module",
3. Save the file
4. Open the project-management-backend/db/knexfile.js file
5. Uncomment lines 3-5 and 11-46
6. Comment out lines 48-91
7. Save the file

Next you need to store your PostgreSQL database information within the environment file. To do this:
1. Open the project-management-backend/.env file
2. Enter your PostgreSQL username and password in lines 1 and 3 respectively
3. Save the file

Finally you can start the back-end. To do this:
1. Open a terminal window
2. Navigate to the project-management-backend directory
3. Enter the command: npm run dev

## Step 2: Front-end setup

In a terminal window:
1. Navigate to the project-management-frontend directory
2. Enter the command: npm install

Now you can start the front-end. To do this:
1. Open a terminal window
2. Navigate to the project-management-frontend directory
3. Enter the command: npm run dev

## Step 3: Accessing the website

On a web browser:
1. Navigate to localhost:5173
2. Click the "Login or Signup to get started" button to access the Auth0 UI
3. Sign up for an account